(function(d,e,n,m,q,r,t,u){try{d.hotleads||(d.hotleads={});var a=d.hotleads;a.metadata||(a.metadata={});a.emailRegex=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;try{var p=e.currentScript||e.querySelector('script[src*\x3d"collector_v2"]');a.metadata.collectorUrl=p.src.split("/js/collector_v2")[0]+"/rest/v2/collector";a.metadata.preparedForms=[];a.metadata.preparedAnchors=[];a.metadata.isClickfunnels=null!=e.querySelector('script[src*\x3d"app.clickfunnels.com"]')}catch(b){console.warn("collector url not found!")}a.getUrlParameters=
function(a,f){try{for(var b=d.self==d.top?d.location.search:e.referrer,h=b.length?b.split("?")[1].split("\x26"):"",b=0;b<h.length;b++){var k=h[b].split("\x3d");if(k[0]==a)return f?decodeURIComponent(k[1]):k[1]}}catch(g){console.error(g)}return null};a.getHotParameters=function(a){var b=d.hot.q;if(b)for(var c=0,e=b.length;c<e;++c)if(0<b[c][0].length&&b[c][0]==a)return b[c][1];return null};a.validateForm=function(a){a=a.getElementsByTagName("input");if(void 0!=a)for(var b=0;b<a.length;b++)if("password"==
a[b].type)return!1;return!0};a.addEvent=function(a,f,c){return a.attachEvent?a.attachEvent("on"+f,c):a.addEventListener(f,c)};a.send=function(){if(a.emailRegex.test(a.data.lead.lead)&&!a.wasLeadCollected(a.data.lead.lead,a.data.affiliation,a.data.url)){var b;b=d.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");b.open("POST",a.metadata.collectorUrl,!1);b.setRequestHeader("Content-Type","application/json");b.onreadystatechange=function(){if(4==b.readyState){var f=b.status;if(0===
f||200<=f&&400>f)a.rememberLeadCollected(a.data.lead.lead,a.data.affiliation,a.data.url);else throw Error("hotleads collector returned status code: "+b.status);}};b.send(JSON.stringify(a.data))}};a.handleError=function(b,f){console.error(b);a&&a.metadata&&hot("pageMetadata",JSON.stringify(a.metadata));a&&a.data&&hot("pageData",JSON.stringify(a.data));try{hot("error",b.stack)}catch(c){hot("error",b.toString())}hot("collectorVersion","2");hot("send",f)};a.buildData=function(b){a.data={};a.data.lead=
b;if(b=a.getUrlParameters("ref",!0))a.data.affiliation=b;if(b=a.getUrlParameters("hsrc",!0))a.data.src=b;if(b=d.hotlobj.getHotId())a.data.hotid=b;a.data.url=d.self==d.top?d.location.toString():e.referrer.toString();a.data.referrer=e.referrer.toString();a.data.account=a.getHotParameters("account")};a.listenAllForms=function(){if(void 0!=e.forms)for(var b=0;b<e.forms.length;b++)a.validateForm(e.forms[b])&&-1==a.metadata.preparedForms.indexOf(e.forms[b])&&(a.addEvent(e.forms[b],"submit",function(b){try{var c=
b.target;for(b=0;b<c.length;b++)c[b].type&&("text"===c[b].type||"email"===c[b].type)&&1<c[b].value.indexOf("@")&&(a.buildData({type:"email",lead:c[b].value}),a.send())}catch(h){a.handleError(h,"hotleadsSendScriptError")}}),a.metadata.preparedForms.push(e.forms[b]))};a.tryListenClickfunnelsPage=function(){var b=e.getElementsByTagName("a");if(void 0!=b)for(var f=0;f<b.length;f++){var c=b[f],d=c.href.split("#");1<d.length&&"submit-form"===d[1]&&-1==a.metadata.preparedAnchors.indexOf(c)&&(a.metadata.preparedAnchors.push(c),
a.addEvent(c,"click",function(b){try{var c=e.querySelector("input.elInput[name\x3demail]");void 0!=c&&(a.buildData({type:"email",lead:c.value}),a.send())}catch(l){a.handleError(l,"hotleadsSendScriptError")}}))}};a.parseArray=function(a){try{var b=JSON.parse(a);return Array.isArray(b)?b:[]}catch(c){return console.error(c),[]}};a.wasLeadCollected=function(b,d,c){try{var e=(new URL(c)).pathname,f=localStorage.getItem("hotleads_"+e+"?ref\x3d"+(d||""));return-1!==a.parseArray(f||"[]").indexOf(b||null)}catch(g){return console.error(g),
!1}};a.rememberLeadCollected=function(b,d,c){try{var e="hotleads_"+(new URL(c)).pathname+"?ref\x3d"+(d||""),f=localStorage.getItem(e),g=a.parseArray(f||"[]"),g=g.slice(Math.max(g.length-10,0));g.push(b||null);localStorage.setItem(e,JSON.stringify(g))}catch(l){console.error(l)}};a.addEvent(d,"load",a.listenAllForms);a.metadata.isClickfunnels&&a.addEvent(d,"load",a.tryListenClickfunnelsPage)}catch(b){a.handleError(b,"hotleadsInitScriptError")}})(window,document);
(function(d,e,n){try{(new MutationObserver(function(e){d.listenAllForms();d.metadata.isClickfunnels&&d.tryListenClickfunnelsPage()})).observe(e,{childList:!0,attributes:!1,characterData:!1,subtree:!0})}catch(m){console.error(m)}})(hotleads,document);